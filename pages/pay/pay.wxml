<view class="pay-container" wx:if="{{order.show && !showcancelFee}}">
  <view class="title">
    <text>请确认费用明细并支付</text>
  </view>
  <view class="content" wx:if="{{!detailToIndex}}">
    <image class="pay-line" src="../../res/pay_line.png"></image>
    <view class="info">
      <view class="layout">
        <view class="header flex-between">
          <view class="order-time">{{driver.time}}</view>
          <view class="order-name">
            <text>{{driver.name}}</text>
            <view class="phone-icon" bindtap="callPhone">
              <image src="../../res/phone_icon.png"></image>
            </view>
          </view>
        </view>
        <view class="address flex-between" bindtap="lookTrace">
          <view>
            <view class="ad start-ad">从 <text>{{order.start}}</text></view>
            <view class="ad end-ad">到 <text>{{order.destination}}</text></view>
          </view>
          <image class="right-icon" src="../../res/arrow_right.png"></image>
        </view>
        <view class="fee-list">
          <view class="fee-detail flex-between" wx:for="{{order.collectionFee}}" wx:key="collectionFee" wx:for-item="fee">
            <text class="fee-key">{{fee.key}}</text>
            <text class="fee-value">{{fee.value}}</text>
          </view>
          <view class="fee-detail flex-between" wx:for="{{order.settleFee}}" wx:key="settleFee" wx:for-item="fee">
            <text class="fee-key">{{fee.key}}</text>
            <text class="fee-value">{{fee.value}}</text>
          </view>
          <!-- <view class="fee-detail flex-between" >
            <text class="fee-key">优惠券</text>
            
          </view> -->

          <view class="fee-detail flex-between" wx:if='{{channel != "01012"}}' bindtap='getCoupon' data-channel='{{channel}}'>
            <text class="fee-key">优惠券</text>
            <view>
              <text wx:if="{{order.couponFee*1 !=0}}" class="fee-value">-{{order.couponFee}}元</text>
              <text wx:else class="fee-value">{{couponTxt}}</text>
              <image wx:if='{{!limitCoupon}}' class="right-icon" src="../../res/arrow_right.png"></image>
            </view>
          </view>
          <!-- <view class="fee-detail flex-between" wx:for="{{order.settleFee}}" wx:key="settleFee" wx:for-item="fee">
            <text class="fee-key">{{fee.key}}</text>
            <text class="fee-value">{{fee.value}}</text>
          </view> -->
        </view>
      </view>
      <image class="sawtooth" src='../../res/sawtooth.png'></image>
    </view>
    <button class="payCommit"  type="commitStyle2" bindtap="commitOrder" wx:if='{{order.cast * 1 != 0}}'>在线支付 {{order.cast}}元</button>
    <button class="payCommit"  type="commitStyle2" bindtap="commitOrderNotify" wx:else>确认支付</button>
  </view>
</view>
<!-- 取消费view -->
<view class="pay-container" wx:if="{{order.show && showcancelFee}}">
  <view class="title">
    <text>请确认费用明细并支付</text>
  </view>
  <view class="content">
    <image class="pay-line" src="../../res/pay_line.png"></image>
    <view class="info">
      <view class="layout">
        <view class="header flex-between">
          <view class="order-time">{{driver.time}}</view>
          <view class="order-name">
            <text>{{driver.name}}</text>
            <view class="phone-icon" bindtap="cancelOrderCallPhone">
              <image src="../../res/phone_icon.png"></image>
            </view>
          </view>
        </view>
        <view class="address cancelAddress flex-between" bindtap="lookTrace">
          <view>
            <view class="ad start-ad">从 <text>{{order.start}}</text></view>
            <view class="ad end-ad">到 <text>{{order.destination || '因订单取消，无目的地信息'}}</text></view>
          </view>
          <image class="right-icon" src="../../res/arrow_right.png"></image>
        </view>
        <view class="fee-list">
          <view class="fee-detail flex-between">
            <text class="fee-key">取消费</text>
            <text class="fee-value">{{FeeDetail.cancel_fee}}元</text>
          </view>
          <view class="fee-detail flex-between">
            <text class="fee-key">等候费</text>
            <text class="fee-value">{{FeeDetail.wait_fee}}元</text>
          </view>
          <view class="fee-detail flex-between" wx:if="{{payDetail.account * 1 > 0}}">
            <text class="fee-key">余额抵扣</text>
            <text class="fee-value">-{{payDetail.account}}元</text>
          </view>
        </view>
        <view class='cancelReason' wx:if="cancelDesc">
          {{cancelDesc}}
        </view>
        <navigator class='cancelRule' url='../webview/webview?path=user-app-pack/coupon/cancel-rules.html'>
          <image class='icon' src='../../res/cancel-icon.png'></image>
          <view class='btn'>取消规则</view>
        </navigator>
      </view>
      <image class="sawtooth" src='../../res/sawtooth.png'></image>
    </view>
    <button class="payCommit" type="commitStyle2" bindtap="commitOrder" wx:if='{{order.cast * 1 != 0}}'>在线支付 {{order.cast}}元</button>
  </view>
</view>